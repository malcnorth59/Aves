==== Memory Management
Kingfisher employs a straightforward memory model divided into three distinct regions. The LIFO (Last-In-First-Out) stack provides temporary storage for computation and parameter passing, following strict stack discipline where values are pushed and popped in a predictable order, making it ideal for handling immediate computational needs and function calls. Starting from lower memory and growing upwards, the return stack maintains program execution context, handling return addresses, loop counters, and other control flow information essential for program execution, while its upward growth pattern helps prevent collision with other memory regions. The heap space grows downward from high memory, providing space for dynamic data structures and long-lived objects that need to persist beyond the scope of individual functions, and this downward growth pattern, combined with the upward-growing return stack, creates a natural buffer between these regions.

===== Data Stack
The LIFO (Last-In-First-Out) stack operates within a fixed memory buffer, which on the 6502 processor is limited to 256 bytes, occupying a single page of memory. The stack is managed by an 8-bit stack pointer register, with push operations decrementing the pointer and pop operations incrementing it. Critically, stack operations are optimised through strategic use of the zero-page - the first 256 bytes of memory. Variables and temporary storage placed in this region benefit from faster access times and more compact instruction encoding, making stack operations more efficient in both speed and memory utilisation. This pattern of optimising frequently accessed stack-related data through privileged memory regions is common across different CPU architectures, though the specific mechanisms and constraints vary. While the stack provides an efficient mechanism for temporary storage and parameter passing, programs must carefully manage their stack usage to avoid overflow conditions, particularly on architectures with limited stack space like the 6502.

===== Local Variable Space
Unlike traditional Forth systems that use a return stack, Kingfisher implements local variables for managing subroutine context and temporary storage. Local variables use memory from the heap.

The implementation on the 6502 uses Subroutine Threaded Code (STC) for its inner interpreter, taking advantage of the processor's native subroutine mechanisms. The use of local variables instead of a return stack simplifies debugging and makes programme flow easier to understand, while the STC implementation provides efficient execution on the 6502 platform.

===== Heap Space
The heap space grows downward from high memory, providing space for dynamic data structures, long-lived objects and local variables. Memory allocation is managed through a scope-based system - when a new scope is opened, the current heap position is saved, and when the scope closes, the heap is restored to its previous position, automatically freeing any allocations made within that scope. This disciplined approach to memory management eliminates the need for manual memory deallocation while preventing memory leaks.

The heap's downward growth pattern, combined with the upward-growing dictionary, creates a natural buffer between these regions. This design provides both flexibility for dynamic allocation and predictable memory recovery through scope closure, making memory management both simple and reliable.
